{# templates/credential/new.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Ajouter un identifiant{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/credential/credential_create.css') }}">
{% endblock %}

{% block body %}

 {# Fil d'Ariane #}
{% include 'components/parts/_breadcrumb.html.twig' with {
  items: [
    { url: path('app_dashboard'), icon: 'fas fa-home', label: 'Tableau de bord' },
    { url: path('app_credential'), icon: 'fas fa-key', label: 'Identifiants' },
    { label: 'Nouvel identifiant', active: true }
  ]
} %}
        {# En-tête de page #}
        <div class="page-header">
            <div class="page-header-content">
                <div class="page-icon">
                    <i class="fas fa-plus-circle"></i>
                </div>
                <div class="page-title-wrapper">
                    <h1>Ajouter un nouvel identifiant</h1>
                    <p class="page-subtitle">Créez un nouveau credential sécurisé pour vos connexions</p>
                </div>
            </div>
        </div>
        {# Info box optionnelle #}
        <div class="info-box">
            <div class="info-box-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <div class="info-box-content">
                <h4>Sécurité renforcée</h4>
                <p>Vos identifiants sont chiffrés et stockés en toute sécurité. Utilisez un mot de passe fort pour maximiser la protection.</p>
            </div>
        </div>
       {% include 'components/form/_form_credential_create.html.twig'%}

<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.help-icon').forEach(icon => {
    icon.addEventListener('click', (e) => {
      e.stopPropagation();
      document.querySelectorAll('.help-icon.active').forEach(activeIcon => {
        if (activeIcon !== icon) activeIcon.classList.remove('active');
      });
      icon.classList.toggle('active');
    });
  });
  document.addEventListener('click', () => {
    document.querySelectorAll('.help-icon.active').forEach(icon => {
      icon.classList.remove('active');
    });
  });
});
</script>
{% endblock %}