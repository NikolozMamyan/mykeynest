{% extends 'base_auth.html.twig' %}

{% block title %}Centre d'aide | MykeyNest{% endblock %}

{% block meta_description %}
<meta name="description" content="Trouvez des r√©ponses √† toutes vos questions sur MykeyNest. Guides, tutoriels, FAQ et support pour vous aider √† s√©curiser vos mots de passe.">
<meta name="keywords" content="aide mykeynest, centre aide, faq, support, tutoriel gestionnaire mots de passe">
<meta property="og:title" content="Centre d'aide | MykeyNest">
<meta property="og:description" content="Trouvez des r√©ponses √† toutes vos questions sur MykeyNest.">
<meta property="og:type" content="website">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
{% endblock %}

{% block body %}
<style>
    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Variables ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    :root {
        --color-primary: #059669;
        --color-primary-hover: rgba(16,185,129,0.3);
        --color-white: #ffffff;
        --color-bg-light: #f8fafc;
        --color-bg-hover: #f1f5f9;
        --color-text-dark: #1e293b;
        --color-text-medium: #475569;
        --color-text-muted: #64748b;
        --color-text-light: #94a3b8;
        --color-border: #e2e8f0;
        --color-success: #10b981;
        --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
        --shadow-green: 0 4px 12px var(--color-primary-hover);
        --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
        --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);
        --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04);
        --border-radius: 12px;
        --border-radius-sm: 8px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body { font-family: 'DM Sans', sans-serif; background: #f8fafc; color: var(--color-text-dark); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Hero ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-hero {
        position: relative;
        background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
        padding: 5rem 2rem 4rem;
        text-align: center;
        overflow: hidden;
        border-bottom: 1px solid var(--color-border);
    }

    .hc-hero::before {
        content: '';
        position: absolute;
        inset: 0;
        background:
            radial-gradient(circle at 20% 30%, rgba(5,150,105,0.1) 0%, transparent 55%),
            radial-gradient(circle at 80% 70%, rgba(16,185,129,0.07) 0%, transparent 55%);
        animation: hcFloat 18s ease-in-out infinite;
        pointer-events: none;
    }

    @keyframes hcFloat {
        0%,100% { transform: scale(1) rotate(0deg); }
        50% { transform: scale(1.04) rotate(2deg); }
    }

    .hc-hero-inner { position: relative; z-index: 1; max-width: 760px; margin: 0 auto; }

    .hc-eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--color-white);
        border: 1px solid rgba(5,150,105,0.25);
        border-radius: 2rem;
        padding: 0.45rem 1.25rem;
        font-size: 0.8125rem;
        font-weight: 600;
        color: var(--color-primary);
        letter-spacing: 0.03em;
        text-transform: uppercase;
        box-shadow: var(--shadow-sm);
        margin-bottom: 1.5rem;
        animation: slideDown 0.55s ease-out both;
    }

    @keyframes slideDown {
        from { opacity: 0; transform: translateY(-16px); }
        to   { opacity: 1; transform: translateY(0); }
    }

    .hc-hero h1 {
        font-size: clamp(2rem,4.5vw,3.25rem);
        font-weight: 700;
        color: var(--color-text-dark);
        line-height: 1.15;
        margin-bottom: 1rem;
        animation: fadeUp 0.7s ease-out 0.15s both;
    }

    .hc-grad {
        background: linear-gradient(135deg, var(--color-primary) 0%, #10b981 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .hc-hero p {
        font-size: 1.125rem;
        color: var(--color-text-medium);
        margin-bottom: 2.25rem;
        animation: fadeUp 0.7s ease-out 0.3s both;
    }

    @keyframes fadeUp {
        from { opacity: 0; transform: translateY(22px); }
        to   { opacity: 1; transform: translateY(0); }
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Search Bar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-search-wrap {
        position: relative;
        max-width: 560px;
        margin: 0 auto;
        animation: fadeUp 0.7s ease-out 0.45s both;
    }

    .hc-search-icon {
        position: absolute;
        left: 1.125rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--color-text-light);
        pointer-events: none;
        width: 1.25rem;
        height: 1.25rem;
    }

    .hc-search-input {
        width: 100%;
        padding: 1rem 1rem 1rem 3.25rem;
        border: 2px solid var(--color-border);
        border-radius: var(--border-radius);
        font-size: 1rem;
        font-family: 'DM Sans', sans-serif;
        background: var(--color-white);
        color: var(--color-text-dark);
        transition: border-color 0.25s, box-shadow 0.25s;
        box-shadow: var(--shadow-md);
        outline: none;
    }

    .hc-search-input:focus {
        border-color: var(--color-primary);
        box-shadow: var(--shadow-green), var(--shadow-md);
    }

    .hc-search-input::placeholder { color: var(--color-text-light); }

    .hc-search-clear {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        background: var(--color-bg-hover);
        border: none;
        border-radius: 50%;
        width: 1.75rem;
        height: 1.75rem;
        display: none;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: var(--color-text-muted);
        transition: background 0.2s;
        font-size: 1rem;
    }

    .hc-search-clear:hover { background: var(--color-border); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Stats Strip ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-stats {
        display: flex;
        justify-content: center;
        gap: 3rem;
        padding: 2rem;
        background: var(--color-white);
        border-bottom: 1px solid var(--color-border);
        flex-wrap: wrap;
        animation: fadeUp 0.7s ease-out 0.55s both;
    }

    .hc-stat {
        text-align: center;
    }

    .hc-stat-number {
        font-family: 'Space Mono', monospace;
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--color-primary);
        line-height: 1;
        margin-bottom: 0.25rem;
    }

    .hc-stat-label {
        font-size: 0.8rem;
        color: var(--color-text-muted);
        text-transform: uppercase;
        letter-spacing: 0.06em;
        font-weight: 500;
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Layout ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-layout {
        max-width: 1200px;
        margin: 0 auto;
        padding: 3.5rem 2rem 5rem;
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Category Cards ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-section-label {
        font-size: 0.75rem;
        font-weight: 700;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        color: var(--color-primary);
        margin-bottom: 1rem;
    }

    .hc-section-title {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--color-text-dark);
        margin-bottom: 0.5rem;
    }

    .hc-section-sub {
        color: var(--color-text-medium);
        font-size: 1rem;
        margin-bottom: 2rem;
    }

    .hc-categories {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.25rem;
        margin-bottom: 4rem;
    }

    .hc-cat-card {
        background: var(--color-white);
        border: 1.5px solid var(--color-border);
        border-radius: var(--border-radius);
        padding: 1.75rem;
        text-decoration: none;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
        transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
        position: relative;
        overflow: hidden;
    }

    .hc-cat-card::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, var(--color-primary), #10b981);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s ease;
    }

    .hc-cat-card:hover {
        border-color: var(--color-primary);
        transform: translateY(-4px);
        box-shadow: var(--shadow-lg), var(--shadow-green);
    }

    .hc-cat-card:hover::after { transform: scaleX(1); }

    .hc-cat-icon {
        width: 2.75rem;
        height: 2.75rem;
        background: linear-gradient(135deg, #f0fdf4, #ecfdf5);
        border: 1px solid rgba(5,150,105,0.2);
        border-radius: var(--border-radius-sm);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.375rem;
        flex-shrink: 0;
        transition: transform 0.3s;
    }

    .hc-cat-card:hover .hc-cat-icon { transform: scale(1.1) rotate(-4deg); }

    .hc-cat-title {
        font-size: 1.0625rem;
        font-weight: 700;
        color: var(--color-text-dark);
    }

    .hc-cat-desc {
        font-size: 0.875rem;
        color: var(--color-text-medium);
        line-height: 1.6;
        flex: 1;
    }

    .hc-cat-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 0.25rem;
    }

    .hc-cat-count {
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--color-text-muted);
        background: var(--color-bg-light);
        padding: 0.2rem 0.6rem;
        border-radius: 2rem;
    }

    .hc-cat-arrow {
        width: 1.25rem;
        height: 1.25rem;
        color: var(--color-primary);
        opacity: 0;
        transform: translateX(-4px);
        transition: all 0.3s;
    }

    .hc-cat-card:hover .hc-cat-arrow {
        opacity: 1;
        transform: translateX(0);
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Popular Articles ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-two-col {
        display: grid;
        grid-template-columns: 1fr 360px;
        gap: 2.5rem;
        align-items: start;
        margin-bottom: 4rem;
    }

    .hc-popular-list { display: flex; flex-direction: column; gap: 0.75rem; }

    .hc-article-row {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1.125rem 1.25rem;
        background: var(--color-white);
        border: 1.5px solid var(--color-border);
        border-radius: var(--border-radius-sm);
        text-decoration: none;
        transition: all 0.25s ease;
    }

    .hc-article-row:hover {
        border-color: var(--color-primary);
        transform: translateX(4px);
        box-shadow: var(--shadow-md);
    }

    .hc-article-num {
        font-family: 'Space Mono', monospace;
        font-size: 0.75rem;
        font-weight: 700;
        color: var(--color-primary);
        background: #f0fdf4;
        border-radius: 50%;
        width: 2rem;
        height: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .hc-article-info { flex: 1; min-width: 0; }

    .hc-article-title {
        font-size: 0.9375rem;
        font-weight: 600;
        color: var(--color-text-dark);
        margin-bottom: 0.2rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .hc-article-cat {
        font-size: 0.75rem;
        color: var(--color-text-muted);
    }

    .hc-article-row-icon {
        width: 1rem;
        height: 1rem;
        color: var(--color-text-light);
        flex-shrink: 0;
        transition: color 0.2s, transform 0.2s;
    }

    .hc-article-row:hover .hc-article-row-icon {
        color: var(--color-primary);
        transform: translateX(2px);
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Sidebar Contact ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-sidebar { display: flex; flex-direction: column; gap: 1.25rem; }

    .hc-contact-card {
        background: var(--color-white);
        border: 1.5px solid var(--color-border);
        border-radius: var(--border-radius);
        padding: 1.75rem;
        transition: border-color 0.25s, box-shadow 0.25s;
    }

    .hc-contact-card:hover {
        border-color: var(--color-primary);
        box-shadow: var(--shadow-green);
    }

    .hc-contact-icon-wrap {
        width: 2.5rem;
        height: 2.5rem;
        background: linear-gradient(135deg, var(--color-primary), #10b981);
        border-radius: var(--border-radius-sm);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
    }

    .hc-contact-icon-wrap svg { width: 1.125rem; height: 1.125rem; color: white; }

    .hc-contact-title {
        font-size: 1rem;
        font-weight: 700;
        color: var(--color-text-dark);
        margin-bottom: 0.4rem;
    }

    .hc-contact-desc {
        font-size: 0.875rem;
        color: var(--color-text-medium);
        line-height: 1.55;
        margin-bottom: 1rem;
    }

    .hc-contact-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
        padding: 0.6rem 1.25rem;
        background: linear-gradient(135deg, var(--color-primary), #10b981);
        color: white;
        border-radius: var(--border-radius-sm);
        font-size: 0.875rem;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.25s;
        box-shadow: var(--shadow-sm);
    }

    .hc-contact-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-green);
    }

    .hc-contact-btn-outline {
        background: transparent;
        color: var(--color-primary);
        border: 1.5px solid var(--color-primary);
    }

    .hc-contact-btn-outline:hover {
        background: var(--color-primary-hover);
    }

    .hc-status-dot {
        width: 0.5rem;
        height: 0.5rem;
        background: var(--color-success);
        border-radius: 50%;
        display: inline-block;
        animation: pulse-dot 2s ease-in-out infinite;
    }

    @keyframes pulse-dot {
        0%,100% { box-shadow: 0 0 0 0 rgba(16,185,129,0.4); }
        50%      { box-shadow: 0 0 0 5px rgba(16,185,129,0); }
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FAQ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-faq-list { display: flex; flex-direction: column; gap: 0.75rem; }

    .hc-faq-item {
        background: var(--color-white);
        border: 1.5px solid var(--color-border);
        border-radius: var(--border-radius-sm);
        overflow: hidden;
        transition: border-color 0.25s;
    }

    .hc-faq-item.open { border-color: var(--color-primary); }

    .hc-faq-trigger {
        width: 100%;
        padding: 1.125rem 1.25rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        cursor: pointer;
        background: none;
        border: none;
        text-align: left;
        font-family: 'DM Sans', sans-serif;
    }

    .hc-faq-q {
        font-size: 0.9375rem;
        font-weight: 600;
        color: var(--color-text-dark);
    }

    .hc-faq-chevron {
        width: 1.125rem;
        height: 1.125rem;
        color: var(--color-text-muted);
        flex-shrink: 0;
        transition: transform 0.3s ease, color 0.25s;
    }

    .hc-faq-item.open .hc-faq-chevron {
        transform: rotate(180deg);
        color: var(--color-primary);
    }

    .hc-faq-body {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.35s ease, padding 0.35s ease;
        padding: 0 1.25rem;
    }

    .hc-faq-item.open .hc-faq-body {
        max-height: 500px;
        padding-bottom: 1.25rem;
    }

    .hc-faq-body p {
        font-size: 0.9rem;
        color: var(--color-text-medium);
        line-height: 1.7;
    }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CTA Banner ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-cta {
        background: linear-gradient(135deg, var(--color-primary) 0%, #10b981 100%);
        border-radius: var(--border-radius);
        padding: 3rem 2.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 2rem;
        flex-wrap: wrap;
        position: relative;
        overflow: hidden;
    }

    .hc-cta::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -10%;
        width: 320px;
        height: 320px;
        background: rgba(255,255,255,0.06);
        border-radius: 50%;
        pointer-events: none;
    }

    .hc-cta::after {
        content: '';
        position: absolute;
        bottom: -60%;
        right: 15%;
        width: 220px;
        height: 220px;
        background: rgba(255,255,255,0.04);
        border-radius: 50%;
        pointer-events: none;
    }

    .hc-cta-text { position: relative; z-index: 1; }

    .hc-cta-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
        margin-bottom: 0.5rem;
    }

    .hc-cta-desc {
        font-size: 1rem;
        color: rgba(255,255,255,0.85);
    }

    .hc-cta-actions {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
        position: relative;
        justify-content:center;
        z-index: 1;
    }

    .hc-cta-btn-white {
        padding: 0.75rem 1.75rem;
        background: white;
        color: var(--color-primary);
        border-radius: var(--border-radius-sm);
        font-weight: 700;
        font-size: 0.9375rem;
        text-decoration: none;
        transition: all 0.25s;
        box-shadow: var(--shadow-lg);
    }

    .hc-cta-btn-white:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-xl);
    }

    .hc-cta-btn-ghost {
        padding: 0.75rem 1.75rem;
        background: rgba(255,255,255,0.15);
        color: white;
        border: 1.5px solid rgba(255,255,255,0.4);
        border-radius: var(--border-radius-sm);
        font-weight: 600;
        font-size: 0.9375rem;
        text-decoration: none;
        transition: all 0.25s;
    }

    .hc-cta-btn-ghost:hover { background: rgba(255,255,255,0.25); }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Search No Results ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .hc-no-results {
        display: none;
        text-align: center;
        padding: 3rem;
        color: var(--color-text-muted);
    }

    .hc-no-results-icon { font-size: 3rem; margin-bottom: 1rem; }

    /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    @media (max-width: 900px) {
        .hc-two-col { display:none;}
        .hc-sidebar { flex-direction: row; flex-wrap: wrap; }
        .hc-contact-card { flex: 1; min-width: 240px; }
    }

    @media (max-width: 600px) {
        .hc-hero { padding: 3.5rem 1.25rem 3rem; }
        .hc-layout { padding: 2.5rem 1.25rem 4rem; }
        .hc-categories { grid-template-columns: 1fr; }
        .hc-stats { gap: 1.5rem; }
        .hc-cta { text-align: center; justify-content: center; }
    }
</style>

<main>

    {# ‚îÄ‚îÄ Hero ‚îÄ‚îÄ #}
    <section class="hc-hero">
        <div class="hc-hero-inner">
            <div class="hc-eyebrow">
                <i class="fa-solid fa-circle-question" aria-hidden="true"></i>
                {{ 'help_center.hero.eyebrow'|trans }}
            </div>

            <h1>
                {{ 'help_center.hero.title_line1'|trans }}<br>
                <span class="hc-grad">{{ 'help_center.hero.title_highlight'|trans }}</span>
            </h1>

            <p>{{ 'help_center.hero.subtitle'|trans }}</p>

            <div class="hc-search-wrap">
                <svg class="hc-search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M21 21l-4.35-4.35M17 11A6 6 0 1 1 5 11a6 6 0 0 1 12 0z"/>
                </svg>

                <input
                    type="search"
                    id="hcSearch"
                    class="hc-search-input"
                    placeholder="{{ 'help_center.search.placeholder'|trans }}"
                    autocomplete="off"
                    aria-label="{{ 'help_center.search.aria'|trans }}"
                >

                <button class="hc-search-clear" id="hcSearchClear" aria-label="{{ 'help_center.search.clear_aria'|trans }}">‚úï</button>
            </div>
        </div>
    </section>

    {# ‚îÄ‚îÄ Stats ‚îÄ‚îÄ #}
    <div class="hc-stats" aria-label="{{ 'help_center.stats.aria'|trans }}">
        <div class="hc-stat">
            <div class="hc-stat-number">{{ totalArticles }}</div>
            <div class="hc-stat-label">{{ 'help_center.stats.articles'|trans }}</div>
        </div>
        <div class="hc-stat">
            <div class="hc-stat-number">{{ categories|length }}</div>
            <div class="hc-stat-label">{{ 'help_center.stats.categories'|trans }}</div>
        </div>
        <div class="hc-stat">
            <div class="hc-stat-number">&lt; 2h</div>
            <div class="hc-stat-label">{{ 'help_center.stats.response_time'|trans }}</div>
        </div>
        <div class="hc-stat">
            <div class="hc-stat-number">98%</div>
            <div class="hc-stat-label">{{ 'help_center.stats.satisfaction'|trans }}</div>
        </div>
    </div>

    <div class="hc-layout">

        {# ‚îÄ‚îÄ Categories ‚îÄ‚îÄ #}
        <div class="hc-section-label">{{ 'help_center.sections.explore_label'|trans }}</div>
        <h2 class="hc-section-title">{{ 'help_center.sections.all_categories_title'|trans }}</h2>
        <p class="hc-section-sub">{{ 'help_center.sections.all_categories_sub'|trans }}</p>

        <div class="hc-categories" id="hcCategories">
            {% for cat in categories %}
                <a href="{{ path('app_help_category', { slug: cat.slug }) }}"
                   class="hc-cat-card"
                   data-tags="{{ cat.tags }}">
                    <div class="hc-cat-icon" aria-hidden="true">{{ cat.icon }}</div>
                    <div class="hc-cat-title">{{ cat.title }}</div>
                    <p class="hc-cat-desc">{{ cat.description }}</p>
                    <div class="hc-cat-meta">
                        <span class="hc-cat-count">
                            {{ 'help_center.category.articles_count'|trans({ count: cat.articleCount }) }}
                        </span>
                        <svg class="hc-cat-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </div>
                </a>
            {% endfor %}
        </div>

        {# ‚îÄ‚îÄ No results message ‚îÄ‚îÄ #}
        <div class="hc-no-results" id="hcNoResults" aria-live="polite">
            <div class="hc-no-results-icon">üîç</div>
            <p style="font-weight:600;color:var(--color-text-dark);margin-bottom:0.5rem;">
                {{ 'help_center.no_results.title'|trans }}
            </p>
            <p>
                {{ 'help_center.no_results.text'|trans }}
                <a href="mailto:contact@key-nest.com" style="color:var(--color-primary);font-weight:600;">
                    {{ 'help_center.no_results.contact'|trans }}
                </a>.
            </p>
        </div>

        {# ‚îÄ‚îÄ Popular Articles + Sidebar ‚îÄ‚îÄ #}
        <div class="hc-two-col">
            <div>
                <div class="hc-section-label">{{ 'help_center.popular.label'|trans }}</div>
                <h2 class="hc-section-title">{{ 'help_center.popular.title'|trans }}</h2>
                <p class="hc-section-sub" style="margin-bottom:1.5rem;">
                    {{ 'help_center.popular.sub'|trans }}
                </p>

                <div class="hc-popular-list">
                    {% for article in popularArticles %}
                        <a href="{{ path('app_help_article', { categorySlug: article.categorySlug, articleSlug: article.articleSlug }) }}"
                           class="hc-article-row">
                            <div class="hc-article-num" aria-hidden="true">
                                {{ loop.index < 10 ? '0' ~ loop.index : loop.index }}
                            </div>
                            <div class="hc-article-info">
                                <div class="hc-article-title">{{ article.title }}</div>
                                <div class="hc-article-cat">{{ article.categoryTitle }}</div>
                            </div>
                            <svg class="hc-article-row-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                        </a>
                    {% endfor %}
                </div>
            </div>

            {# ‚îÄ‚îÄ Sidebar ‚îÄ‚îÄ #}
            <aside class="hc-sidebar" aria-label="{{ 'help_center.sidebar.aria'|trans }}">
                <div class="hc-contact-card">
                    <div class="hc-contact-icon-wrap">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                    </div>
                    <div class="hc-contact-title">{{ 'help_center.sidebar.write.title'|trans }}</div>
                    <p class="hc-contact-desc">{{ 'help_center.sidebar.write.desc'|trans }}</p>
                    <a href="mailto:contact@key-nest.com" class="hc-contact-btn">
                        <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8"/>
                        </svg>
                        {{ 'help_center.sidebar.write.cta'|trans }}
                    </a>
                </div>

                <div class="hc-contact-card">
                    <div class="hc-contact-icon-wrap">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <div class="hc-contact-title">
                        <span class="hc-status-dot"></span>
                        {{ 'help_center.sidebar.status.title'|trans }}
                    </div>
                    <p class="hc-contact-desc">{{ 'help_center.sidebar.status.desc'|trans }}</p>
                    <a href="#" class="hc-contact-btn hc-contact-btn-outline">
                        {{ 'help_center.sidebar.status.cta'|trans }}
                    </a>
                </div>
            </aside>
        </div>

        {# ‚îÄ‚îÄ FAQ Accordion ‚îÄ‚îÄ #}
        <div style="margin-bottom:3rem;">
            <div class="hc-section-label">{{ 'help_center.faq.label'|trans }}</div>
            <h2 class="hc-section-title">{{ 'help_center.faq.title'|trans }}</h2>
            <p class="hc-section-sub" style="margin-bottom:1.5rem;">{{ 'help_center.faq.sub'|trans }}</p>

            <div class="hc-faq-list" role="list">

                {% for i in 1..5 %}
                    <div class="hc-faq-item" role="listitem">
                        <button class="hc-faq-trigger" aria-expanded="false">
                            <span class="hc-faq-q">{{ ('help_center.faq.items.q' ~ i)|trans }}</span>
                            <svg class="hc-faq-chevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                        <div class="hc-faq-body" role="region">
                            <p>{{ ('help_center.faq.items.a' ~ i)|trans }}</p>
                        </div>
                    </div>
                {% endfor %}

            </div>
        </div>

        {# ‚îÄ‚îÄ CTA Banner ‚îÄ‚îÄ #}
        <div class="hc-cta">
            <div class="hc-cta-text">
                <div class="hc-cta-title">{{ 'help_center.cta.title'|trans }}</div>
                <div class="hc-cta-desc">{{ 'help_center.cta.desc'|trans }}</div>
            </div>
            <div class="hc-cta-actions">
                <a href="mailto:contact@key-nest.com" class="hc-cta-btn-white">{{ 'help_center.cta.support'|trans }}</a>
                <a href="{{ path('show_register') }}" class="hc-cta-btn-ghost">{{ 'help_center.cta.create_account'|trans }}</a>
            </div>
        </div>

    </div>
</main>


<script>
(function () {
    /* ‚îÄ‚îÄ FAQ Accordion ‚îÄ‚îÄ */
    document.querySelectorAll('.hc-faq-trigger').forEach(function (btn) {
        btn.addEventListener('click', function () {
            var item = btn.closest('.hc-faq-item');
            var isOpen = item.classList.contains('open');

            // Close all
            document.querySelectorAll('.hc-faq-item.open').forEach(function (el) {
                el.classList.remove('open');
                el.querySelector('.hc-faq-trigger').setAttribute('aria-expanded', 'false');
            });

            // Open clicked (unless it was already open)
            if (!isOpen) {
                item.classList.add('open');
                btn.setAttribute('aria-expanded', 'true');
            }
        });
    });

    /* ‚îÄ‚îÄ Search / Filter ‚îÄ‚îÄ */
    var searchInput  = document.getElementById('hcSearch');
    var searchClear  = document.getElementById('hcSearchClear');
    var categories   = document.querySelectorAll('.hc-cat-card');
    var noResults    = document.getElementById('hcNoResults');

    function filterCategories(query) {
        query = query.toLowerCase().trim();
        var visible = 0;

        categories.forEach(function (card) {
            var text = (card.dataset.tags + ' ' + card.querySelector('.hc-cat-title').textContent).toLowerCase();
            var match = !query || text.includes(query);
            card.style.display = match ? '' : 'none';
            if (match) visible++;
        });

        noResults.style.display = (query && visible === 0) ? 'block' : 'none';
        searchClear.style.display = query ? 'flex' : 'none';
    }

    searchInput.addEventListener('input', function () {
        filterCategories(this.value);
    });

    searchClear.addEventListener('click', function () {
        searchInput.value = '';
        filterCategories('');
        searchInput.focus();
    });
})();
</script>

{% endblock %}
