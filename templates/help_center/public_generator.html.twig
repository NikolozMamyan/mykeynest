{% extends 'base_auth.html.twig' %}

{% block title %}G√©n√©rateur de Mot de Passe S√©curis√© Gratuit | MykeyNest{% endblock %}

{% block meta_description %}
<meta name="description" content="Cr√©ez des mots de passe ultra-s√©curis√©s gratuitement avec MykeyNest. G√©n√©rateur en ligne instantan√© avec contr√¥le de la force, personnalisation compl√®te et protection maximale.">
<meta name="keywords" content="g√©n√©rateur mot de passe, mot de passe s√©curis√©, g√©n√©rateur gratuit, s√©curit√© en ligne, cr√©er mot de passe fort">
<meta property="og:title" content="G√©n√©rateur de Mot de Passe S√©curis√© Gratuit | MykeyNest">
<meta property="og:description" content="Cr√©ez des mots de passe ultra-s√©curis√©s en un clic. Gratuit, s√©curis√© et sans stockage.">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary_large_image">
<link rel="canonical" href="{{ app.request.uri }}">

{# Preconnect pour les polices Google Fonts #}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">


{% endblock %}

{% block body %}
<style>
    .hero-section {
        position: relative;
        padding: 4rem 2rem 2rem;
        text-align: center;
        overflow: hidden;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle at 30% 20%, rgba(5, 150, 105, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 70% 60%, rgba(16, 185, 129, 0.06) 0%, transparent 50%);
        animation: float 20s ease-in-out infinite;
        z-index: 0;
    }

    @keyframes float {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        33% { transform: translate(30px, -30px) rotate(5deg); }
        66% { transform: translate(-20px, 20px) rotate(-5deg); }
    }

    .hero-content {
        position: relative;
        z-index: 1;
        max-width: 800px;
        margin: 0 auto;
    }

    .hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: var(--color-white);
        padding: 0.5rem 1.25rem;
        border-radius: 2rem;
        box-shadow: var(--shadow-sm);
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--color-primary);
        margin-bottom: 1.5rem;
        animation: slideDown 0.6s ease-out;
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .hero-badge::before {
        content: 'üîí';
        font-size: 1.25rem;
    }

    h1 {
        font-size: clamp(2.5rem, 5vw, 4rem);
        font-weight: 700;
        color: var(--color-text-dark);
        margin: 0 0 1rem;
        line-height: 1.1;
        animation: fadeInUp 0.8s ease-out 0.2s both;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .hero-gradient-text {
        background: linear-gradient(135deg, var(--color-primary) 0%, #10b981 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .hero-subtitle {
        font-size: 1.25rem;
        color: var(--color-text-medium);
        margin: 0 0 2rem;
        animation: fadeInUp 0.8s ease-out 0.4s both;
    }

    .trust-indicators {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
        margin-top: 2rem;
        animation: fadeInUp 0.8s ease-out 0.6s both;
    }

    .trust-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--color-text-muted);
        font-size: 0.875rem;
    }

    .trust-item::before {
        content: '‚úì';
        display: flex;
        align-items: center;
        justify-content: center;
        width: 1.5rem;
        height: 1.5rem;
        background: var(--color-primary);
        color: white;
        border-radius: 50%;
        font-weight: 700;
        font-size: 0.75rem;
    }

    .generator-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 0 2rem 4rem;
        position: relative;
        z-index: 1;
    }

    .generator-card {
        background: var(--color-white);
        border-radius: 24px;
        box-shadow: var(--shadow-xl);
        padding: 3rem;
        animation: scaleIn 0.8s ease-out 0.4s both;
        border: 1px solid rgba(5, 150, 105, 0.1);
    }

    @keyframes scaleIn {
        from {
            opacity: 0;
            transform: scale(0.95);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    .password-display {
        position: relative;
        background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
        border: 2px solid var(--color-primary);
        border-radius: var(--border-radius);
        padding: 1.5rem;
        margin-bottom: 2rem;
        overflow: hidden;
    }

    .password-display::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
        animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
        0% { left: -100%; }
        100% { left: 100%; }
    }

    .password-output {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        position: relative;
        z-index: 1;
    }

    #generatedPassword {
        font-family: 'Space Mono', monospace;
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--color-text-dark);
        flex: 1;
        letter-spacing: 0.05em;
        word-break: break-all;
        min-height: 2rem;
    }

    .password-actions {
        display: flex;
        gap: 0.75rem;
    }

    .icon-btn {
        background: var(--color-white);
        border: 2px solid var(--color-border);
        border-radius: var(--border-radius-sm);
        width: 2.75rem;
        height: 2.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .icon-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: var(--color-primary-hover);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .icon-btn:hover {
        border-color: var(--color-primary);
        transform: translateY(-2px);
        box-shadow: var(--shadow-green);
    }

    .icon-btn:hover::before {
        width: 300px;
        height: 300px;
    }

    .icon-btn:active {
        transform: scale(0.95);
    }

    .icon-btn svg {
        position: relative;
        z-index: 1;
        width: 1.25rem;
        height: 1.25rem;
        color: var(--color-text-dark);
    }

    .strength-meter {
        margin: 1.5rem 0;
    }

    .strength-label {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.75rem;
        font-size: 0.875rem;
        font-weight: 500;
    }

    .strength-text {
        color: var(--color-text-medium);
    }

    .strength-value {
        font-weight: 700;
        transition: color 0.3s;
    }

    .strength-bar {
        height: 8px;
        background: var(--color-bg-light);
        border-radius: 1rem;
        overflow: hidden;
        position: relative;
    }

    .strength-fill {
        height: 100%;
        width: 0;
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        border-radius: 1rem;
        position: relative;
        overflow: hidden;
    }

    .strength-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: strengthShimmer 1.5s infinite;
    }

    @keyframes strengthShimmer {
        0% { left: -100%; }
        100% { left: 100%; }
    }

    .strength-weak .strength-fill { background: linear-gradient(135deg, var(--color-danger-start), var(--color-danger-end)); }
    .strength-medium .strength-fill { background: linear-gradient(135deg, var(--color-warning), #f97316); }
    .strength-strong .strength-fill { background: linear-gradient(135deg, var(--color-success), var(--color-primary)); }

    .controls-section {
        margin: 2rem 0;
    }

    .control-group {
        margin-bottom: 1.5rem;
    }

    .control-label {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        font-weight: 500;
        color: var(--color-text-dark);
    }

    .control-value {
        font-family: 'Space Mono', monospace;
        font-weight: 700;
        color: var(--color-primary);
        font-size: 1.125rem;
    }

    .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 8px;
        border-radius: 1rem;
        background: linear-gradient(to right, var(--color-primary) 0%, var(--color-primary) 50%, var(--color-bg-light) 50%);
        outline: none;
        transition: background 0.3s;
    }

    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: var(--color-primary);
        cursor: pointer;
        box-shadow: var(--shadow-md);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .slider::-webkit-slider-thumb:hover {
        transform: scale(1.2);
        box-shadow: var(--shadow-green);
    }

    .slider::-moz-range-thumb {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background: var(--color-primary);
        cursor: pointer;
        border: none;
        box-shadow: var(--shadow-md);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .slider::-moz-range-thumb:hover {
        transform: scale(1.2);
        box-shadow: var(--shadow-green);
    }

    .options-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-top: 1.5rem;
    }

    .checkbox-wrapper {
        position: relative;
    }

    .checkbox-label {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 1rem;
        background: var(--color-bg-light);
        border: 2px solid var(--color-border);
        border-radius: var(--border-radius-sm);
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        user-select: none;
    }

    .checkbox-label:hover {
        background: var(--color-bg-hover);
        border-color: var(--color-primary);
        transform: translateY(-2px);
        box-shadow: var(--shadow-sm);
    }

    .checkbox-input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
    }

    .checkbox-custom {
        width: 1.5rem;
        height: 1.5rem;
        border: 2px solid var(--color-border);
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--color-white);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .checkbox-input:checked ~ .checkbox-label .checkbox-custom {
        background: var(--color-primary);
        border-color: var(--color-primary);
        animation: checkBounce 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    @keyframes checkBounce {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.2); }
    }

    .checkbox-input:checked ~ .checkbox-label .checkbox-custom::after {
        content: '‚úì';
        color: white;
        font-weight: 700;
        font-size: 0.875rem;
    }

    .checkbox-input:checked ~ .checkbox-label {
        border-color: var(--color-primary);
        background: var(--color-primary-hover);
    }

    .checkbox-text {
        font-weight: 500;
        color: var(--color-text-dark);
    }

    .generate-btn {
        width: 100%;
        padding: 1.25rem 2rem;
        background: linear-gradient(135deg, var(--color-primary) 0%, #10b981 100%);
        color: white;
        border: none;
        border-radius: var(--border-radius);
        font-size: 1.125rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: var(--shadow-md);
        position: relative;
        overflow: hidden;
    }

    .generate-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .generate-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-xl);
    }

    .generate-btn:hover::before {
        width: 400px;
        height: 400px;
    }

    .generate-btn:active {
        transform: scale(0.98);
    }

    .generate-btn span {
        position: relative;
        z-index: 1;
    }

    .features-section {
        max-width: 1200px;
        margin: 4rem auto;
        padding: 0 2rem;
    }

    .section-header {
        text-align: center;
        margin-bottom: 3rem;
    }

    .section-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--color-text-dark);
        margin: 0 0 1rem;
    }

    .section-subtitle {
        font-size: 1.125rem;
        color: var(--color-text-medium);
        margin: 0;
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }

    .feature-card {
        background: var(--color-white);
        padding: 2rem;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-md);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border: 1px solid var(--color-border);
    }

    .feature-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-xl);
        border-color: var(--color-primary);
    }

    .feature-icon {
        width: 3rem;
        height: 3rem;
        background: linear-gradient(135deg, var(--color-primary) 0%, #10b981 100%);
        border-radius: var(--border-radius-sm);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
    }

    .feature-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--color-text-dark);
        margin: 0 0 0.75rem;
    }

    .feature-description {
        color: var(--color-text-medium);
        line-height: 1.6;
        margin: 0;
    }

    .seo-content {
        max-width: 800px;
        margin: 4rem auto;
        padding: 0 2rem 4rem;
    }

    .seo-content h2 {
        font-size: 2rem;
        font-weight: 700;
        color: var(--color-text-dark);
        margin: 2rem 0 1rem;
    }

    .seo-content p {
        color: var(--color-text-medium);
        line-height: 1.8;
        margin: 1rem 0;
    }

    .seo-content ul {
        color: var(--color-text-medium);
        line-height: 1.8;
        padding-left: 1.5rem;
    }

    .cta-section {
        background: linear-gradient(135deg, var(--color-primary) 0%, #10b981 100%);
        padding: 4rem 2rem;
        text-align: center;
        margin-top: 4rem;
    }

    .cta-content {
        max-width: 700px;
        margin: 0 auto;
    }

    .cta-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: white;
        margin: 0 0 1rem;
    }

    .cta-description {
        font-size: 1.25rem;
        color: rgba(255, 255, 255, 0.9);
        margin: 0 0 2rem;
    }

    .cta-btn {
        background: white;
        color: var(--color-primary);
        padding: 1rem 2.5rem;
        border-radius: var(--border-radius);
        font-size: 1.125rem;
        font-weight: 700;
        text-decoration: none;
        display: inline-block;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: var(--shadow-lg);
    }

    .cta-btn:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-xl);
    }

    @media (max-width: 768px) {
        .hero-section {
            padding: 2rem 1rem 1rem;
        }

        h1 {
            font-size: 2rem;
        }

        .hero-subtitle {
            font-size: 1rem;
        }

        .generator-card {
            padding: 2rem 1.5rem;
        }

        #generatedPassword {
            font-size: 1.125rem;
        }

        .trust-indicators {
            gap: 1rem;
        }

        .features-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
<main>
    {# Hero Section #}
    <section class="hero-section">
        <div class="hero-content">

            <h1>
                {{ 'public_generator.hero.title_before'|trans }}
                <span class="hero-gradient-text">{{ 'public_generator.hero.title_highlight'|trans }}</span><br>
                {{ 'public_generator.hero.title_after'|trans }}
            </h1>

            <p class="hero-subtitle">
                {{ 'public_generator.hero.subtitle'|trans }}
            </p>

            <div class="trust-indicators">
                <div class="trust-item">{{ 'public_generator.hero.trust.no_storage'|trans }}</div>
                <div class="trust-item">{{ 'public_generator.hero.trust.client_side'|trans }}</div>
                <div class="trust-item">{{ 'public_generator.hero.trust.open_source'|trans }}</div>
            </div>
        </div>
    </section>

    {# Generator Section #}
    <section class="generator-container">
        <div class="generator-card">
            {# Password Display #}
            <div class="password-display">
                <div class="password-output">
                    <div id="generatedPassword">{{ 'public_generator.generator.placeholder'|trans }}</div>

                    <div class="password-actions">
                        <button class="icon-btn" id="copyBtn"
                                title="{{ 'public_generator.generator.actions.copy'|trans }}"
                                aria-label="{{ 'public_generator.generator.actions.copy'|trans }}">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                        </button>

                        <button class="icon-btn" id="regenerateBtn"
                                title="{{ 'public_generator.generator.actions.regenerate'|trans }}"
                                aria-label="{{ 'public_generator.generator.actions.regenerate'|trans }}">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            {# Strength Meter #}
            <div class="strength-meter" id="strengthMeter">
                <div class="strength-label">
                    <span class="strength-text">{{ 'public_generator.generator.strength.label'|trans }}</span>
                    <span class="strength-value" id="strengthText">{{ 'public_generator.generator.strength.value'|trans }}</span>
                </div>
                <div class="strength-bar">
                    <div class="strength-fill" id="strengthFill"></div>
                </div>
            </div>

            {# Controls #}
            <div class="controls-section">
                <div class="control-group">
                    <div class="control-label">
                        <span>{{ 'public_generator.generator.length.label'|trans }}</span>
                        <span class="control-value" id="lengthValue">16</span>
                    </div>
                    <input type="range" id="lengthSlider" class="slider" min="8" max="64" value="16">
                </div>

                <div class="options-grid">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="includeUppercase" class="checkbox-input" checked>
                        <label for="includeUppercase" class="checkbox-label">
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">{{ 'public_generator.generator.options.uppercase'|trans }}</span>
                        </label>
                    </div>

                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="includeLowercase" class="checkbox-input" checked>
                        <label for="includeLowercase" class="checkbox-label">
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">{{ 'public_generator.generator.options.lowercase'|trans }}</span>
                        </label>
                    </div>

                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="includeNumbers" class="checkbox-input" checked>
                        <label for="includeNumbers" class="checkbox-label">
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">{{ 'public_generator.generator.options.numbers'|trans }}</span>
                        </label>
                    </div>

                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="includeSymbols" class="checkbox-input" checked>
                        <label for="includeSymbols" class="checkbox-label">
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">{{ 'public_generator.generator.options.symbols'|trans }}</span>
                        </label>
                    </div>
                </div>
            </div>

            {# Generate Button (emoji -> Font Awesome icon) #}
            <button class="generate-btn" id="generateBtn">
                <span>
                    <i class="fa-solid fa-key" aria-hidden="true"></i>
                    {{ 'public_generator.generator.generate_button'|trans }}
                </span>
            </button>
        </div>
    </section>

    {# Features Section (emoji -> Font Awesome icons) #}
    <section class="features-section">
        <div class="section-header">
            <h2 class="section-title">{{ 'public_generator.features.title'|trans }}</h2>
            <p class="section-subtitle">{{ 'public_generator.features.subtitle'|trans }}</p>
        </div>

        <div class="features-grid">
            <article class="feature-card">
                <div class="feature-icon"><i class="fa-solid fa-shield-halved" aria-hidden="true"></i></div>
                <h3 class="feature-title">{{ 'public_generator.features.items.0.title'|trans }}</h3>
                <p class="feature-description">{{ 'public_generator.features.items.0.description'|trans }}</p>
            </article>

            <article class="feature-card">
                <div class="feature-icon"><i class="fa-solid fa-bolt" aria-hidden="true"></i></div>
                <h3 class="feature-title">{{ 'public_generator.features.items.1.title'|trans }}</h3>
                <p class="feature-description">{{ 'public_generator.features.items.1.description'|trans }}</p>
            </article>

            <article class="feature-card">
                <div class="feature-icon"><i class="fa-solid fa-lock" aria-hidden="true"></i></div>
                <h3 class="feature-title">{{ 'public_generator.features.items.2.title'|trans }}</h3>
                <p class="feature-description">{{ 'public_generator.features.items.2.description'|trans }}</p>
            </article>

            <article class="feature-card">
                <div class="feature-icon"><i class="fa-solid fa-sliders" aria-hidden="true"></i></div>
                <h3 class="feature-title">{{ 'public_generator.features.items.3.title'|trans }}</h3>
                <p class="feature-description">{{ 'public_generator.features.items.3.description'|trans }}</p>
            </article>

            <article class="feature-card">
                <div class="feature-icon"><i class="fa-solid fa-chart-column" aria-hidden="true"></i></div>
                <h3 class="feature-title">{{ 'public_generator.features.items.4.title'|trans }}</h3>
                <p class="feature-description">{{ 'public_generator.features.items.4.description'|trans }}</p>
            </article>

            <article class="feature-card">
                <div class="feature-icon"><i class="fa-solid fa-copy" aria-hidden="true"></i></div>
                <h3 class="feature-title">{{ 'public_generator.features.items.5.title'|trans }}</h3>
                <p class="feature-description">{{ 'public_generator.features.items.5.description'|trans }}</p>
            </article>
        </div>
    </section>

    {# SEO Content #}
    <section class="seo-content">
        <article itemscope itemtype="https://schema.org/Article">
            <h2 itemprop="headline">{{ 'public_generator.seo.title'|trans }}</h2>

            <div itemprop="articleBody">
                <p>{{ 'public_generator.seo.intro'|trans }}</p>

                <h2>{{ 'public_generator.seo.good_password_title'|trans }}</h2>
                <p>{{ 'public_generator.seo.good_password_text'|trans }}</p>

                <h2>{{ 'public_generator.seo.why_generator_title'|trans }}</h2>
                <p>{{ 'public_generator.seo.why_generator_text'|trans }}</p>

                <h2>{{ 'public_generator.seo.tips_title'|trans }}</h2>
                <ul>
                    <li>{{ 'public_generator.seo.tips.0'|trans }}</li>
                    <li>{{ 'public_generator.seo.tips.1'|trans }}</li>
                    <li>{{ 'public_generator.seo.tips.2'|trans }}</li>
                    <li>{{ 'public_generator.seo.tips.3'|trans }}</li>
                    <li>{{ 'public_generator.seo.tips.4'|trans }}</li>
                    <li>{{ 'public_generator.seo.tips.5'|trans }}</li>
                </ul>

                <h2>{{ 'public_generator.seo.tech_title'|trans }}</h2>
                <p>{{ 'public_generator.seo.tech_text'|trans }}</p>
            </div>
        </article>
    </section>

    {# CTA Section #}
    <section class="cta-section">
        <div class="cta-content">
            <h2 class="cta-title">{{ 'public_generator.cta.title'|trans }}</h2>
            <p class="cta-description">{{ 'public_generator.cta.description'|trans }}</p>
            <a href="{{ path('show_register') }}" class="cta-btn">{{ 'public_generator.cta.button'|trans }}</a>
        </div>
    </section>
</main>


<script>
    // Password Generator Logic
    const generatePassword = () => {
        const length = parseInt(document.getElementById('lengthSlider').value);
        const includeUppercase = document.getElementById('includeUppercase').checked;
        const includeLowercase = document.getElementById('includeLowercase').checked;
        const includeNumbers = document.getElementById('includeNumbers').checked;
        const includeSymbols = document.getElementById('includeSymbols').checked;

        let charset = '';
        if (includeUppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        if (includeLowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
        if (includeNumbers) charset += '0123456789';
        if (includeSymbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';

        if (charset === '') {
            document.getElementById('generatedPassword').textContent = 'S√©lectionnez au moins une option';
            return '';
        }

        // Use cryptographically secure random
        const randomValues = new Uint32Array(length);
        crypto.getRandomValues(randomValues);

        let password = '';
        for (let i = 0; i < length; i++) {
            password += charset[randomValues[i] % charset.length];
        }

        document.getElementById('generatedPassword').textContent = password;
        updateStrength(password);
        return password;
    };

    const updateStrength = (password) => {
        const strengthMeter = document.getElementById('strengthMeter');
        const strengthFill = document.getElementById('strengthFill');
        const strengthText = document.getElementById('strengthText');

        let strength = 0;
        if (password.length >= 8) strength += 20;
        if (password.length >= 12) strength += 20;
        if (password.length >= 16) strength += 10;
        if (/[a-z]/.test(password)) strength += 15;
        if (/[A-Z]/.test(password)) strength += 15;
        if (/[0-9]/.test(password)) strength += 10;
        if (/[^a-zA-Z0-9]/.test(password)) strength += 10;

        strengthFill.style.width = strength + '%';

        // Remove all strength classes
        strengthMeter.classList.remove('strength-weak', 'strength-medium', 'strength-strong');

        if (strength < 50) {
            strengthMeter.classList.add('strength-weak');
            strengthText.textContent = 'Faible';
            strengthText.style.color = 'var(--color-danger-start)';
        } else if (strength < 80) {
            strengthMeter.classList.add('strength-medium');
            strengthText.textContent = 'Moyenne';
            strengthText.style.color = 'var(--color-warning)';
        } else {
            strengthMeter.classList.add('strength-strong');
            strengthText.textContent = 'Forte';
            strengthText.style.color = 'var(--color-success)';
        }
    };

    const copyToClipboard = () => {
        const password = document.getElementById('generatedPassword').textContent;
        if (password && password !== 'Cliquez pour g√©n√©rer') {
            navigator.clipboard.writeText(password).then(() => {
                const copyBtn = document.getElementById('copyBtn');
                const originalHTML = copyBtn.innerHTML;
                copyBtn.innerHTML = '<svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>';
                setTimeout(() => {
                    copyBtn.innerHTML = originalHTML;
                }, 2000);
            });
        }
    };

    const updateSliderBackground = (slider) => {
        const value = (slider.value - slider.min) / (slider.max - slider.min) * 100;
        slider.style.background = `linear-gradient(to right, var(--color-primary) 0%, var(--color-primary) ${value}%, var(--color-bg-light) ${value}%, var(--color-bg-light) 100%)`;
    };

    // Event Listeners
    document.getElementById('generateBtn').addEventListener('click', generatePassword);
    document.getElementById('regenerateBtn').addEventListener('click', generatePassword);
    document.getElementById('copyBtn').addEventListener('click', copyToClipboard);

    const lengthSlider = document.getElementById('lengthSlider');
    lengthSlider.addEventListener('input', (e) => {
        document.getElementById('lengthValue').textContent = e.target.value;
        updateSliderBackground(e.target);
        if (document.getElementById('generatedPassword').textContent !== 'Cliquez pour g√©n√©rer') {
            generatePassword();
        }
    });

    // Update on checkbox change
    ['includeUppercase', 'includeLowercase', 'includeNumbers', 'includeSymbols'].forEach(id => {
        document.getElementById(id).addEventListener('change', () => {
            if (document.getElementById('generatedPassword').textContent !== 'Cliquez pour g√©n√©rer') {
                generatePassword();
            }
        });
    });

    // Initialize slider background
    updateSliderBackground(lengthSlider);

    // Generate initial password on load
    window.addEventListener('load', generatePassword);
</script>

{# Structured Data for SEO #}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "G√©n√©rateur de Mot de Passe S√©curis√©",
  "applicationCategory": "SecurityApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "EUR"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.9",
    "ratingCount": "1250"
  },
  "description": "G√©n√©rateur de mot de passe gratuit et s√©curis√©. Cr√©ez des mots de passe robustes avec personnalisation compl√®te et analyse de force en temps r√©el."
}
</script>
{% endblock %}
